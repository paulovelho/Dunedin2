import{a as H,b as v,c as V}from"./chunk-CTOATCCV.js";import{$a as _,A as G,B as s,C as a,D as h,E as j,F as l,G as Q,H as q,L as x,M as D,N as O,O as L,P as c,Q as N,Z as W,_ as k,_a as y,ab as B,d as b,eb as u,f as I,i as T,l as m,m as F,n as M,o as P,q as g,qa as A,s as p,t as E,y as S,z as r}from"./chunk-N3QAHXRB.js";var Y=()=>["btn","label-margin","w-100"],R=(()=>{let e=class e{constructor(){this.debounceTimeMs=500,this.minCharacters=4,this.searchSubject=new b,this.loading=!1,this.updateQuery=new g}ngOnInit(){this.searchSubject.pipe(I(this.debounceTimeMs)).subscribe(o=>{this.updateQuery.emit(o)})}ngOnDestroy(){this.searchSubject.complete()}queryChanged(){this.query&&this.query.length>this.minCharacters&&this.searchSubject.next(this.query)}refresh(){this.updateQuery.emit(this.query)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m({type:e,selectors:[["app-search-input"]],inputs:{loading:"loading"},outputs:{updateQuery:"updateQuery"},standalone:!0,features:[c],decls:9,vars:6,consts:[["title","Search","icon","fa-search",3,"loading","showClose"],["actions",""],[1,"transition",3,"click"],[1,"fa","fa-refresh"],[1,"row"],[1,"col-sm-9"],["id","search-input","label","Search",3,"valueChange","value"],[1,"col-sm-3"],["type","primary","caption","Search","icon","fa-search",3,"action"]],template:function(t,i){t&1&&(s(0,"app-window",0)(1,"span",1)(2,"a",2),l("click",function(){return i.refresh()}),h(3,"i",3),a()(),s(4,"div",4)(5,"div",5)(6,"app-input",6),O("valueChange",function(d){return D(i.query,d)||(i.query=d),d}),a()(),s(7,"div",7)(8,"app-button",8),l("action",function(){return i.refresh()}),a()()()()),t&2&&(r("loading",i.loading)("showClose",!1),p(6),x("value",i.query),p(2),G(N(5,Y)))},dependencies:[u,y,_,B]});let n=e;return n})();function Z(n,e){if(n&1&&h(0,"app-gag-item",5),n&2){let C=e.$implicit;r("item",C)}}function $(n,e){if(n&1){let C=j();s(0,"div",2)(1,"app-button",6),l("action",function(){M(C);let t=Q();return P(t.nextPage.emit())}),a()()}}var z=(()=>{let e=class e{constructor(){this.loading=!1,this.list=[],this.nextPage=new g}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m({type:e,selectors:[["app-gag-list"]],inputs:{loading:"loading",list:"list",total:"total"},outputs:{nextPage:"nextPage"},standalone:!0,features:[c],decls:5,vars:6,consts:[["icon","fa-search",3,"title","loading","showClose"],[1,"row"],[1,"col-sm-12"],[3,"item",4,"ngFor","ngForOf"],["class","col-sm-12",4,"ngIf"],[3,"item"],["icon","fa-forward","caption","Next Page",3,"action"]],template:function(t,i){t&1&&(s(0,"app-window",0)(1,"div",1)(2,"div",2),S(3,Z,1,1,"app-gag-item",3),a(),S(4,$,2,0,"div",4),a()()),t&2&&(q("title","",i.total," results found"),r("loading",i.loading)("showClose",!1),p(3),r("ngForOf",i.list),p(),r("ngIf",i.list&&i.total&&i.total>i.list.length))},dependencies:[u,W,k,y,_,V]});let n=e;return n})();var J=(()=>{let e=class e{constructor(o){this.service=o,this.loading=!1,this.data=[]}search(o){console.info("searching ",o),this.loading=!0,this.service.searchGag(o).subscribe({next:t=>{this.total=t.total,this.data=t.content,this.loading=!1}})}nextPage(){this.service.nextPage().subscribe({next:o=>{this.data=this.data.concat(o.content)}})}};e.\u0275fac=function(t){return new(t||e)(E(v))},e.\u0275cmp=m({type:e,selectors:[["app-gag-home"]],standalone:!0,features:[L([v,H]),c],decls:2,vars:4,consts:[[3,"updateQuery","loading"],[3,"nextPage","total","loading","list"]],template:function(t,i){t&1&&(s(0,"app-search-input",0),l("updateQuery",function(d){return i.search(d)}),a(),s(1,"app-gag-list",1),l("nextPage",function(){return i.nextPage()}),a()),t&2&&(r("loading",i.loading),p(),r("total",i.total)("loading",i.loading)("list",i.data))},dependencies:[u,R,z]});let n=e;return n})();var K=[{path:"",component:J}];var Me=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=F({type:e}),e.\u0275inj=T({imports:[A.forChild(K)]});let n=e;return n})();export{Me as GagsModule};
